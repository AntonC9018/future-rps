(function(e){function t(t){for(var n,o,i=t[0],c=t[1],u=t[2],p=0,d=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==s[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},s={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/future-rps/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1543:function(e,t,r){"use strict";r.r(t),r.d(t,"db",(function(){return o})),r.d(t,"auth",(function(){return i})),r.d(t,"currentUser",(function(){return c})),r.d(t,"usersCollection",(function(){return u})),r.d(t,"postsCollection",(function(){return l})),r.d(t,"commentsCollection",(function(){return p})),r.d(t,"likesCollection",(function(){return d}));var n=r("3ac8"),s=r.n(n),a=(r("10b8"),{apiKey:"AIzaSyAcH2YFC9m8eOM_MGZrA0e2Ujz1OkW4kG0",authDomain:"future-ec0de.firebaseapp.com",databaseURL:"https://future-ec0de.firebaseio.com",projectId:"future-ec0de",storageBucket:"future-ec0de.appspot.com",messagingSenderId:"636007588592",appId:"1:636007588592:web:36d2a643c76325b45a1835",measurementId:"G-BPEW4KYSRX"});s.a.initializeApp(a);var o=s.a.firestore(),i=s.a.auth(),c=i.currentUser,u=o.collection("users"),l=o.collection("posts"),p=o.collection("comments"),d=o.collection("likes")},"4e2d":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"ROCK",(function(){return K})),r.d(n,"PAPER",(function(){return z})),r.d(n,"SCISSORS",(function(){return V}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],i=r("2877"),c={},u=Object(i["a"])(c,a,o,!1,null,null,null),l=u.exports,p=(r("45fc"),r("8c4f")),d=r("3ac8"),m=r.n(d),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"login"}},[r("transition",{attrs:{name:"fade"}},[e.performingRequest?r("div",{staticClass:"loading"},[r("p",[e._v("Loading...")])]):e._e()]),r("section",[e._m(0),r("div",{staticClass:"col2",class:{"signup-form":!e.showLoginForm&&!e.showForgotPassword}},[e.showLoginForm?r("form",{on:{submit:function(e){e.preventDefault()}}},[r("h1",[e._v("Log in")]),r("label",{attrs:{for:"email1"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.loginForm.email,expression:"loginForm.email",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"you@email.com",id:"email1"},domProps:{value:e.loginForm.email},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("label",{attrs:{for:"password1"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.loginForm.password,expression:"loginForm.password",modifiers:{trim:!0}}],attrs:{type:"password",placeholder:"******",id:"password1"},domProps:{value:e.loginForm.password},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("button",{staticClass:"button",on:{click:e.login}},[e._v("Log In")]),r("div",{staticClass:"extras"},[r("a",{on:{click:e.togglePasswordReset}},[e._v("Forgot Password")]),r("a",{on:{click:e.toggleForm}},[e._v("Create an Account")])])]):e._e(),e.showLoginForm||e.showForgotPassword?e._e():r("form",{on:{submit:function(e){e.preventDefault()}}},[r("h1",[e._v("Sign Up")]),r("label",{attrs:{for:"name"}},[e._v("Nickname")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.signupForm.name,expression:"signupForm.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"myNickname",id:"name"},domProps:{value:e.signupForm.name},on:{input:function(t){t.target.composing||e.$set(e.signupForm,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("label",{attrs:{for:"email2"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.signupForm.email,expression:"signupForm.email",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"you@email.com",id:"email2"},domProps:{value:e.signupForm.email},on:{input:function(t){t.target.composing||e.$set(e.signupForm,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("label",{attrs:{for:"password2"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.signupForm.password,expression:"signupForm.password",modifiers:{trim:!0}}],attrs:{type:"password",placeholder:"min 6 characters",id:"password2"},domProps:{value:e.signupForm.password},on:{input:function(t){t.target.composing||e.$set(e.signupForm,"password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("button",{staticClass:"button",on:{click:e.signup}},[e._v("Sign Up")]),r("div",{staticClass:"extras"},[r("a",{on:{click:e.toggleForm}},[e._v("Back to Log In")])])]),e.showForgotPassword?r("form",{staticClass:"password-reset",on:{submit:function(e){e.preventDefault()}}},[e.passwordResetSuccess?r("div",[r("h1",[e._v("Email Sent")]),r("p",[e._v("check your email for a link to reset your password")]),r("button",{staticClass:"button",on:{click:e.togglePasswordReset}},[e._v("Back to login")])]):r("div",[r("h1",[e._v("Reset Password")]),r("p",[e._v("We will send you an email to reset your password")]),r("label",{attrs:{for:"email3"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.passwordForm.email,expression:"passwordForm.email",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"you@email.com",id:"email3"},domProps:{value:e.passwordForm.email},on:{input:function(t){t.target.composing||e.$set(e.passwordForm,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("button",{staticClass:"button",on:{click:e.resetPassword}},[e._v("Submit")]),r("div",{staticClass:"extras"},[r("a",{on:{click:e.togglePasswordReset}},[e._v("Back to Log In")])])])]):e._e(),r("transition",{attrs:{name:"fade"}},[""!==e.errorMsg?r("div",{staticClass:"error-msg"},[r("p",[e._v(e._s(e.errorMsg))])]):e._e()])],1)])],1)},f=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col1"},[r("h1",[e._v("Vuegram")]),r("p",[e._v(" Welcome to the "),r("a",{attrs:{href:"https://savvyapps.com/",target:"_blank"}},[e._v("Savvy Apps")]),e._v(" sample social media web app powered by Vue.js and Firebase. Build this project by checking out The Definitive Guide to Getting Started with Vue.js ")])])}],v=(r("b0c0"),r("96cf"),r("1da1")),g=r("1543"),y={data:function(){return{loginForm:{email:"",password:""},signupForm:{name:"",email:"",password:""},passwordForm:{email:""},showLoginForm:!0,showForgotPassword:!1,passwordResetSuccess:!1,performingRequest:!1,errorMsg:""}},methods:{toggleForm:function(){this.errorMsg="",this.showLoginForm=!this.showLoginForm},togglePasswordReset:function(){this.showForgotPassword?(this.showLoginForm=!0,this.showForgotPassword=!1,this.passwordResetSuccess=!1):(this.showLoginForm=!1,this.showForgotPassword=!0)},startRequest:function(){this.performingRequest=!0},finishRequest:function(){this.performingRequest=!1},handleError:function(e){console.log(e),this.errorMsg=e.message},login:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.startRequest(),t.prev=1,t.next=4,g.auth.signInWithEmailAndPassword(e.loginForm.email,e.loginForm.password);case 4:r=t.sent,e.$store.commit("setCurrentUser",r.user),e.$store.dispatch("fetchUserProfile"),e.$router.push("/dashboard"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.handleError(t.t0);case 13:e.finishRequest();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},signup:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.startRequest(),t.prev=1,t.next=4,g.auth.createUserWithEmailAndPassword(e.signupForm.email,e.signupForm.password);case 4:return r=t.sent,e.$store.commit("setCurrentUser",r.user),n=g.usersCollection.doc(r.user.uid),t.next=9,n.set({name:e.signupForm.name});case 9:e.$store.dispatch("fetchUserProfile"),e.$router.push("/dashboard"),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),e.handleError(t.t0);case 16:e.finishRequest();case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))()},resetPassword:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.startRequest(),t.prev=1,t.next=4,g.auth.sendPasswordResetEmail(e.passwordForm.email);case 4:e.passwordResetSuccess=!0,e.passwordForm.email="",t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),e.handleError(t.t0);case 11:e.finishRequest();case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}},w=y,b=Object(i["a"])(w,h,f,!1,null,null,null),P=b.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" Dash ")])},_=[],R={},F=R,A=Object(i["a"])(F,S,_,!1,null,null,null),k=A.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" Settings ")])},C=[],E={},x=E,U=Object(i["a"])(x,O,C,!1,null,null,null),j=U.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"stats"},[r("div",[e._v("Your hp: "),r("div",{staticClass:"heart-text"},[e._v(e._s(e.game.players[0].currentState.hp))]),r("div",{staticClass:"heart"})]),r("div",[e._v("Enemy hp: "),r("div",{staticClass:"heart-text"},[e._v(e._s(e.game.players[1].currentState.hp))]),r("div",{staticClass:"heart"})])]),r("button",{class:{selected:e.selectAction==e.ACTIONS.ROCK},on:{click:function(t){return e.selectAction(e.ACTIONS.ROCK)}}},[e._v(" Rock ")]),r("button",{class:{selected:e.selectAction==e.ACTIONS.PAPER},on:{click:function(t){return e.selectAction(e.ACTIONS.PAPER)}}},[e._v(" Paper ")]),r("button",{class:{selected:e.selectAction==e.ACTIONS.SCISSORS},on:{click:function(t){return e.selectAction(e.ACTIONS.SCISSORS)}}},[e._v(" Scissors ")]),r("button",{attrs:{disabled:null==e.selectedAction},on:{click:function(t){return e.endRound()}}},[e._v(" Go! ")]),r("button",{on:{click:function(t){return e.reset()}}},[e._v(" Reset ")]),r("div",{staticClass:"predictions"},[r("div",{staticClass:"predictions-title"},[e._v(" Predictions ")]),e._l(e.predictions,(function(t,n){return r("div",{key:"pred-"+n,class:{prediction:!0,"past-prediction":n<e.game.turn,"next-prediction":n==e.game.turn}},[r("h5",[e._v("Entry #"+e._s(n+1))]),e._v(" You play "),r("span",{staticClass:"play"},[e._v(e._s(e.actions[t.playerAction]))]),e._v(" against your opponent's "),r("span",{staticClass:"play"},[e._v(e._s(e.actions[t.opponentAction])+".")]),e._v(" ("+e._s((100*t.opponentActionsPmf[t.opponentAction]).toFixed(2))+"% predicted probability) "),r("br"),e._v("As a result, you "),r("span",{class:{"positive-result":t.result==e.RESULTS.WIN,"negative-result":t.result==e.RESULTS.LOSE}},[e._v(" "+e._s(e.results[t.result])+". ")]),t.result==e.RESULTS.WIN?r("div",[e._v(" The hp of your opponent drops down to "+e._s(t.opponentHp)+". ")]):t.result==e.RESULTS.LOSE?r("div",[e._v(" Your hp drops down to "+e._s(t.playerHp)+". ")]):e._e()])})),e.lastPrediction.deadEnd?r("div",{staticClass:"dead-end"},[e.lastPrediction.result==e.RESULTS.WIN?r("div",{staticClass:"positive-result"},[e._v(" Your opponent dies. You become the God of time. ")]):e.lastPrediction.result==e.RESULTS.LOSE?r("div",{staticClass:"negative-result"},[e._v(" DEAD END ")]):e._e()]):e._e()],2)])},I=[],$=(r("99af"),r("fb6a"),r("2909")),N=r("d4ec"),T=r("bee2"),G=0,q=1,M=2,W=0;function D(e){return 3*e}function H(e){return 9*e}var Y={HIGH:1,LOW:28};function B(e){return e<2?Y.LOW:Y.HIGH}var K=0,z=1,V=2;function J(e){if(0===e.length)return-1;for(var t=e[0],r=0,n=1;n<e.length;n++)e[n]>t&&(r=n,t=e[n]);return r}function X(e,t,r){return{action:e,hp:t,predicPmf:r}}function Z(e){return{action:e.action,hp:e.hp,predicPmf:e.predicPmf}}var Q=function(){function e(t,r){Object(N["a"])(this,e),this.pmfs=t,this.currentState=X(null,r,null),this.lastState=X()}return Object(T["a"])(e,[{key:"clone",value:function(){var t=e.create();return t.pmfs=this.pmfs,t.lastState=Z(this.lastState),t.currentState=Z(this.currentState),t}}],[{key:"create",value:function(){return Object.create(this.prototype)}}]),e}(),ee=function(){function e(){Object(N["a"])(this,e),this.players=[],this.turn=0,this.deadEnd=!1,this.lastResult=null,this.observations=[]}return Object(T["a"])(e,[{key:"clone",value:function(){var t=e.create();return t.players=[],t.players[0]=this.players[0].clone(),t.players[1]=this.players[1].clone(),t.turn=this.turn,t.deadEnd=this.deadEnd,t.lastResult=this.lastResult,t.observations=[],t}},{key:"makeObservation",value:function(){this.observations.push({hp:this.players[0].lastState.hp,result:this.lastResult,predicPmf:this.players[0].lastState.predicPmf,actualAction:this.players[0].lastState.action})}},{key:"setPlayer",value:function(e,t){this.players[e]=t,this.observations[e]=[]}},{key:"setPlayerAction",value:function(e,t){this.players[e].currentState.action=t}},{key:"setupPredicPmf",value:function(){0==this.turn&&(this.players[0].currentState.predicPmf=this.players[1].pmfs[W],this.players[1].currentState.predicPmf=this.players[0].pmfs[W])}},{key:"addPlayer",value:function(e,t){var r=this.players.length;return this.players[r]=new Q(e,t),r}},{key:"damagePlayer",value:function(e){e.currentState.hp-=1,0==e.currentState.hp&&(this.deadEnd=!0)}},{key:"endRound",value:function(){this.turn++;var e,t=this.players[0],r=this.players[1],n=t.currentState.action,s=r.currentState.action;if(n==s?e=M:n==K&&s==V||n==z&&s==K||n==V&&s==z?(e=G,this.damagePlayer(r)):(e=q,this.damagePlayer(t)),this.makeObservation(0),t.lastState=t.currentState,r.lastState=r.currentState,t.currentState={hp:t.currentState.hp},r.currentState={hp:r.currentState.hp},this.lastResult=e,0!=t.hp&&0!=r.hp){var a=B(t.currentState.hp)+D(t.lastState.action)+H(e),o=r.pmfs.slice(a,a+3),i=t.pmfs.slice(a,a+3),c=[];c[K]=p(K),c[z]=p(z),c[V]=p(V);var u=J(c);r.currentState.predicPmf=i[u];var l=J(r.currentState.predicPmf);t.currentState.predicPmf=o[l]}function p(e){var t=i[e],r=o[K][e]*t[K]+o[z][e]*t[z]+o[V][e]*t[V];return r}}}],[{key:"create",value:function(){return Object.create(this.prototype)}}]),e}(),te=10;function re(e){return{opponentActionsPmf:e.players[0].lastState.predicPmf,opponentAction:e.players[1].lastState.action,playerAction:e.players[0].lastState.action,playerHp:e.players[0].currentState.hp,opponentHp:e.players[1].currentState.hp,result:e.lastResult,deadEnd:e.deadEnd}}function ne(e){var t=e.clone(),r=t.players[0],n=t.players[1],s=[],a=0;while(!t.deadEnd&&a<te){var o=J(n.currentState.predicPmf),i=J(r.currentState.predicPmf);t.setPlayerAction(0,o),t.setPlayerAction(1,i),t.endRound(),s[a]=re(t),a++}return s}var se=55;function ae(){var e=Math.random(),t=Math.random(),r=Math.random(),n=e+t+r;return[e/n,t/n,r/n]}function oe(){for(var e=[],t=0;t<se;t++)e[t]=ae();return e}var ie=3,ce={data:function(){var e=new ee,t=new ee,r=oe(),s=oe();return e.addPlayer(r,ie),e.addPlayer(s,ie),t.addPlayer(s,ie),t.addPlayer(r,ie),e.setupPredicPmf(),t.setupPredicPmf(),{game:e,opponentGame:t,ACTIONS:n,actions:["rock","paper","scissors"],RESULTS:{WIN:G,LOSE:q,TIE:M},results:["win the round","lose the round","tie"],predictions:ne(e),selectedAction:null}},methods:{selectAction:function(e){this.selectedAction=e,console.log(this.game)},setAction:function(){var e=this.predictions[this.game.turn].opponentAction;this.game.setPlayerAction(0,this.selectedAction),this.game.setPlayerAction(1,e),this.opponentGame.setPlayerAction(0,e),this.opponentGame.setPlayerAction(1,this.selectedAction)},reset:function(){this.game=new ee,this.opponentGame=new ee;var e=oe(),t=oe();this.game.addPlayer(e,ie),this.game.addPlayer(t,ie),this.opponentGame.addPlayer(t,ie),this.opponentGame.addPlayer(e,ie),this.game.setupPredicPmf(),this.opponentGame.setupPredicPmf(),this.predictions=ne(this.game)},updatePredictions:function(){var e=re(this.game),t=ne(this.game);this.predictions=[].concat(Object($["a"])(this.predictions.slice(0,this.game.turn)),Object($["a"])(t)),this.predictions[this.game.turn-1]=e},endRound:function(){this.setAction(),this.game.endRound(),this.opponentGame.endRound(),this.updatePredictions(),this.selectedAction=null}},computed:{lastPrediction:function(){return this.predictions[this.predictions.length-1]}}},ue=ce,le=(r("68e4"),Object(i["a"])(ue,L,I,!1,null,null,null)),pe=le.exports;s["a"].use(p["a"]);var de=[{path:"*",redirect:"/dashboard"},{path:"/game",name:"Game",component:pe},{path:"/login",name:"Login",component:P},{path:"/dashboard",name:"Dashboard",component:k,meta:{requiresAuth:!0}},{path:"/settings",name:"Settings",component:j,meta:{requiresAuth:!0}}],me=new p["a"]({mode:"hash",base:"/future-rps/",routes:de});me.beforeEach((function(e,t,r){var n=e.matched.some((function(e){return e.meta.requiresAuth})),s=m.a.auth().currentUser;n&&!s?r("/login"):r()}));var he=me,fe=r("2f62"),ve=r("1543");s["a"].use(fe["a"]);var ge,ye=new fe["a"].Store({state:{currentUser:null,userProfile:{}},mutations:{setCurrentUser:function(e,t){e.currentUser=t},setUserProfile:function(e,t){e.userProfile=t}},actions:{fetchUserProfile:function(e){var t=e.commit,r=e.state;ve.usersCollection.doc(r.currentUser.uid).get().then((function(e){t("setUserProfile",e.data())})).catch((function(e){console.log(e)}))}},modules:{}}),we=(r("7e7d"),r("1543"));s["a"].config.productionTip=!1,we.auth.onAuthStateChanged((function(e){ge||(ge=new s["a"]({el:"#app",router:he,store:ye,render:function(e){return e(l)}}))}))},"68e4":function(e,t,r){"use strict";var n=r("4e2d"),s=r.n(n);s.a},"7e7d":function(e,t,r){}});
//# sourceMappingURL=app.a4dd4a47.js.map